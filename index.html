<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For You, Gunda | From Gundi</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Red Pastel Palette */
            --primary-red: #ff9aa2;
            --deep-red: #e57373;
            --soft-cream: #fff5f5;
            --bottle-green: #2e5a49; /* Elegant contrast */
            --glass: rgba(255, 255, 255, 0.6);
            --text-main: #5d4037;
        }

        body.dark-mode {
            --soft-cream: #2d1b1b;
            --text-main: #ffccbc;
            --glass: rgba(0, 0, 0, 0.4);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-main);
            background: var(--soft-cream);
            transition: background 1.5s ease;
            overflow-x: hidden;
        }

        h1, h2, h3 { font-family: 'Playfair Display', serif; color: var(--deep-red); }

        /* --- LANDING --- */
        .section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 60px 20px;
            text-align: center;
        }

        .hero-title {
            font-size: clamp(2.5rem, 8vw, 4.5rem);
            animation: breathe 5s ease-in-out infinite;
            margin-bottom: 0.5rem;
        }

        @keyframes breathe {
            0%, 100% { transform: scale(1); opacity: 0.8; }
            50% { transform: scale(1.03); opacity: 1; text-shadow: 0 0 20px rgba(255,154,162,0.5); }
        }

        /* --- TIMER --- */
        #timer-card {
            background: var(--glass);
            backdrop-filter: blur(12px);
            padding: 2.5rem;
            border-radius: 30px;
            border: 1px solid var(--primary-red);
            margin: 2rem 0;
            box-shadow: 0 15px 35px rgba(229, 115, 115, 0.1);
        }

        .timer-nums {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--bottle-green);
            letter-spacing: 1px;
        }

        /* --- MESSAGES --- */
        .bottle-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            width: 100%;
            max-width: 1200px;
            margin-top: 40px;
        }

        .bottle {
            background: white;
            padding: 30px;
            border-radius: 20px;
            border-bottom: 5px solid var(--primary-red);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            cursor: default;
        }

        .bottle:hover:not(.locked) {
            transform: translateY(-10px) rotate(2deg);
        }

        .locked {
            filter: grayscale(1) blur(2px);
            opacity: 0.5;
            background: #f0f0f0;
        }

        .lock-icon { font-size: 2rem; display: block; margin-bottom: 10px; }

        .reply-area {
            width: 100%;
            height: 80px;
            margin-top: 15px;
            padding: 10px;
            border: 1px dashed var(--deep-red);
            border-radius: 10px;
            background: #fffafa;
            resize: none;
        }

        /* --- PENGUIN HUG --- */
        .penguin-stage {
            background: white;
            padding: 40px;
            border-radius: 50%;
            width: 320px;
            height: 320px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.05);
            cursor: pointer;
            border: 2px solid var(--primary-red);
        }

        #hug-btn {
            background: var(--deep-red);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-weight: 600;
            margin-top: 20px;
            transition: 0.3s;
        }

        /* --- FLOATING ELEMENTS --- */
        .heart {
            position: fixed;
            color: var(--primary-red);
            pointer-events: none;
            z-index: 999;
            animation: floatUp 4s linear forwards;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100vh) scale(1.5); opacity: 0; }
        }

        /* --- GALLERY --- */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 10px;
            padding: 20px;
        }
        .gallery-item {
            width: 100%;
            border-radius: 15px;
            transition: 0.4s;
            border: 3px solid white;
        }
        .gallery-item:hover { transform: scale(1.05) rotate(-2deg); z-index: 2; }

    </style>
</head>
<body>

    <div id="music-toggle" style="position:fixed; bottom:30px; left:30px; z-index:100; cursor:pointer; background:white; padding:15px; border-radius:50%; box-shadow:0 4px 10px rgba(0,0,0,0.1)">ðŸ”‡</div>
    <audio id="bg-audio" loop src="love.mp3"></audio>

    <div id="notif" style="position:fixed; top:30px; right:30px; z-index:100; opacity:0; transition:0.5s; background:var(--bottle-green); color:white; padding:10px 20px; border-radius:30px;">
        New Message Unlocked! ðŸ’Œ
    </div>

    <section class="section">
        <h1 class="hero-title">For You, Gunda</h1>
        <p style="font-style: italic; color: var(--deep-red);">A little space for us, by Gundi</p>
        
        <div id="timer-card">
            <p style="margin-bottom:10px; text-transform: uppercase; font-size: 0.8rem; letter-spacing: 2px;">Time since the airport goodbye</p>
            <div id="timer" class="timer-nums">00d 00h 00m 00s</div>
        </div>
        <p>ðŸ‘‡</p>
    </section>

    <section class="section">
        <h2>Our Journey</h2>
        <div style="width:100%; max-width:900px;">
            <div style="margin: 40px 0;">
                <h3>2019 - 2020</h3>
                <p>The pixels of my favorite memories start here...</p>
                <canvas id="dots" style="width:100%; height:200px; border-radius:20px; margin-top:15px;"></canvas>
            </div>
            <div id="gallery-container"></div>
        </div>
    </section>

    <section class="section">
        <h2 style="color: var(--bottle-green)">Letters Across the Ocean</h2>
        <div class="bottle-container" id="bottle-wall"></div>
    </section>

    <section class="section">
        <div class="penguin-stage" onclick="handleHug()">
            <svg viewBox="0 0 100 100" width="150">
                <circle cx="50" cy="65" r="30" fill="#2d2d2d"/> <circle cx="50" cy="65" r="22" fill="white"/> <circle cx="50" cy="35" r="20" fill="#2d2d2d"/> <circle cx="43" cy="32" r="3" fill="white"/> <circle cx="57" cy="32" r="3" fill="white"/> <path d="M 47 38 L 53 38 L 50 43 Z" fill="#ff9800"/> <path id="l-wing" d="M 25 60 Q 15 50 25 40" stroke="#2d2d2d" stroke-width="6" fill="none"/>
                <path id="r-wing" d="M 75 60 Q 85 50 75 40" stroke="#2d2d2d" stroke-width="6" fill="none"/>
            </svg>
            <button id="hug-btn">I MISS YOU</button>
            <p id="hug-status" style="margin-top:15px; font-weight:600">0 Hugs Given</p>
        </div>
    </section>

    <section class="section">
        <h2 style="margin-bottom:20px">The Bridge Between Us</h2>
        <div id="map" style="width:100%; max-width:800px; height:400px; border-radius:30px; border:8px solid white;"></div>
    </section>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        // --- LOGIC ---
        const start = new Date("2026-02-05T16:00:00+05:30");
        const msgList = ["Hi. I miss you. Maybe itâ€™s too soon...", "I really want to know how life has been for you there. Write here:", "Gunda, I am so proud of you...", "You can do this. I believe in you.", "I missed you at Karan Aujlaâ€™s show...", "I miss you. Some days are hard.", "Soâ€¦ have you started cooking yet?", "A quiet drink? I can picture it.", "So proud of you. Always.", "Would you still love me if I were a dinosaur?", "If I seem difficult, itâ€™s because I miss you.", "Is a UK visit happening soon?", "Gym paying off? I hope so.", "Let's plan a virtual date.", "This feeling is what they call love.", "Call me randomly sometime.", "Weâ€™re handling this better than thought.", "Only a few more months now.", "I never expected to fall this deeply.", "Did you miss my birthday?", "Living a whole London chapter!", "Someone might be coming home soon.", "Be more emotionally expressive with me :)", "Are you here yet?", "Not yet? Iâ€™m waiting.", "Youâ€™re here. Everything feels right."];

        // 15-Day Logic
        if(!localStorage.getItem('init')) localStorage.setItem('init', new Date().toISOString());
        const initDate = new Date(localStorage.getItem('init'));
        const daysPassed = Math.floor((new Date() - initDate) / (1000*60*60*24));
        const unlocked = Math.floor(daysPassed / 15) + 1;

        // Timer
        setInterval(() => {
            const diff = new Date() - start;
            const d = Math.floor(diff/(1000*60*60*24));
            const h = Math.floor((diff/(1000*60*60))%24);
            const m = Math.floor((diff/1000/60)%60);
            const s = Math.floor((diff/1000)%60);
            document.getElementById('timer').innerText = `${d}d ${h}h ${m}m ${s}s`;
        }, 1000);

        // Messages
        const wall = document.getElementById('bottle-wall');
        msgList.forEach((m, i) => {
            const card = document.createElement('div');
            const isLocked = i >= unlocked;
            card.className = `bottle ${isLocked ? 'locked' : ''}`;
            
            if(isLocked) {
                card.innerHTML = `<span class="lock-icon">ðŸ”’</span> <p>Unlocks in ${15 - (daysPassed % 15)} days</p>`;
            } else {
                let html = `<p>${m}</p>`;
                if(i === 1) {
                    const saved = localStorage.getItem('reply') || '';
                    html += `<textarea class="reply-area" oninput="localStorage.setItem('reply', this.value)">${saved}</textarea>`;
                }
                card.innerHTML = html;
            }
            wall.appendChild(card);
        });

        // Hugs
        let hugCount = parseInt(localStorage.getItem('hugs') || 0);
        document.getElementById('hug-status').innerText = `${hugCount} Hugs Given ðŸ’•`;
        function handleHug() {
            hugCount++;
            localStorage.setItem('hugs', hugCount);
            document.getElementById('hug-status').innerText = `${hugCount} Hugs Given ðŸ’•`;
            
            // Heart Burst
            for(let i=0; i<8; i++) {
                const h = document.createElement('div');
                h.className = 'heart';
                h.innerHTML = 'â¤ï¸';
                h.style.left = Math.random() * 100 + 'vw';
                h.style.top = '100vh';
                h.style.fontSize = (Math.random() * 20 + 20) + 'px';
                document.body.appendChild(h);
                setTimeout(() => h.remove(), 4000);
            }
        }

        // Map
        const map = L.map('map').setView([35, 30], 2);
        L.tileLayer('https://{s}.tile.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png').addTo(map);
        const b = [12.97, 77.59], g = [55.86, -4.25];
        L.marker(b).addTo(map).bindPopup('Gundi ðŸ ');
        L.marker(g).addTo(map).bindPopup('Gunda âœˆï¸');
        L.polyline([b, g], {color: '#e57373', weight: 2, dashArray: '10, 10'}).addTo(map);

        // Music
        const audio = document.getElementById('bg-audio');
        const btn = document.getElementById('music-toggle');
        btn.onclick = () => {
            if(audio.paused) { audio.play(); btn.innerText = 'ðŸ”Š'; }
            else { audio.pause(); btn.innerText = 'ðŸ”‡'; }
        };

        // Dark Mode 6PM
        if(new Date().getHours() >= 18 || new Date().getHours() < 6) document.body.classList.add('dark-mode');

        // Notification Check
        if(localStorage.getItem('lastSeenCount') < unlocked) {
            const n = document.getElementById('notif');
            n.style.opacity = '1';
            setTimeout(() => n.style.opacity = '0', 5000);
            localStorage.setItem('lastSeenCount', unlocked);
        }
    </script>
</body>
</html>